# Category 0: The Android Framework

## Q) 3. What are the differences between Serializable and Parcelable

**Android**μ—μ„ `Serializable`κ³Ό `Parcelable`μ€ λ¨λ‘ `Activity`λ‚ `Fragment` λ“± **μ»΄ν¬λ„νΈ** κ°„μ— λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ• μ‚¬μ©λλ” λ©”μ»¤λ‹μ¦μ΄λ‹¤.  
ν•μ§€λ§ **μ„±λ¥**κ³Ό **κµ¬ν„ λ°©μ‹** μΈ΅λ©΄μ—μ„ μ΄ λ‘μ€ μ„λ΅ λ‹¤λ¥΄κ² λ™μ‘ν•λ‹¤.

### Serializable

- **Java ν‘μ¤€ μΈν„°νμ΄μ¤(Standard Interface):**  
`Serializable`μ€ `Java`μ—μ„ μ κ³µν•λ” ν‘μ¤€ μΈν„°νμ΄μ¤λ΅, κ°μ²΄λ¥Ό **λ°”μ΄νΈ μ¤νΈλ¦Ό**μΌλ΅ λ³€ν™ν•μ—¬ **μ•΅ν‹°λΉ„ν‹°** κ°„ μ „λ‹¬μ΄λ‚ **λ””μ¤ν¬**μ— μ €μ¥ν•  μ μκ² ν•΄μ¤€λ‹¤.
  - **λ°”μ΄νΈ μ¤νΈλ¦Ό(Byte Stream):** `1 λ°”μ΄νΈ(byte)`λ¥Ό λ‹¨μ„λ΅ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•λ” μ¤νΈλ¦Όμ„ μλ―Έν•λ‹¤.  
  μ£Όλ΅ `μ΄λ―Έμ§€`, `μ¤λ””μ¤`, `μμƒ`, `λ°”μ΄λ„λ¦¬ νμΌ` λ“± `ν…μ¤νΈ`κ°€ μ•„λ‹ λ°μ΄ν„°λ¥Ό λ‹¤λ£° λ• μ‚¬μ©λλ‹¤.  
  `Java`μ—μ„ `InputStream`, `OutputStream` κ³„μ—΄μ΄ μ΄μ— ν•΄λ‹Ήν•λ‹¤.

- **λ¦¬ν”λ ‰μ…(Reflection) κΈ°λ° λ™μ‘:**  
`Java`μ **λ¦¬ν”λ ‰μ…** κΈ°λ¥μ„ ν†µν•΄ λ™μ‘ν•λ©°, **λ°νƒ€μ„**μ— ν΄λμ¤μ™€ ν•„λ“ μ •λ³΄λ¥Ό λ™μ μΌλ΅ λ¶„μ„ν•μ—¬ **μ§λ ¬ν™”**λ¥Ό μν–‰ν•λ‹¤.

- **μ„±λ¥:**  
**λ¦¬ν”λ ‰μ…**μ€ κΈ°λ³Έμ μΌλ΅ `Parcelable`μ— λΉ„ν•΄ μ†λ„κ°€ λλ¦° νΈμ΄λ‹¤. μ΄λ” **λ¦¬ν”λ ‰μ…** μμ²΄μ μ²λ¦¬ μ†λ„κ°€ λλ¦΄ λΏλ§ μ•„λ‹λΌ,
μ§λ ¬ν™” κ³Όμ •μ—μ„ λ§μ€ **μ„μ‹ κ°μ²΄**λ¥Ό μƒμ„±ν•΄ **λ©”λ¨λ¦¬ μ¤λ²„ν—¤λ“**κ°€ μ¦κ°€ν•κΈ° λ•λ¬Έμ΄λ‹¤.

- **μ‚¬μ© μ‚¬λ΅€:**  
**μ„±λ¥**μ΄ ν¬κ² μ¤‘μ”ν•μ§€ μ•κ±°λ‚, **Android**μ— μΆ…μ†λμ§€ μ•μ€ λ²”μ© `Java` μ½”λ“μ—μ„ μ£Όλ΅ μ‚¬μ©λλ‹¤.

### Parcelable
- **Android μ „μ© μΈν„°νμ΄μ¤:**  
`Parcelable`μ€ **Android**μ— νΉν™”λ μΈν„°νμ΄μ¤λ΅, μ»΄ν¬λ„νΈ κ°„ κ³ μ„±λ¥ `μΈν„°ν”„λ΅μ„Έμ¤ ν†µμ‹ (IPC)`μ„ μ„ν•΄ μ„¤κ³„λμ—λ‹¤.

- **μ„±λ¥:**  
**Android**λ¥Ό μ„ν•΄ μµμ ν™” λ `Parcelable`μ€ **λ¦¬ν”λ ‰μ…**μ— μμ΅΄ν•μ§€ μ•μ•„ `Serializable`λ³΄λ‹¤ λΉ λ¥΄λ‹¤.  
λν•, μ„μ‹ κ°μ²΄ μƒμ„±μ„ μ¤„μ—¬ `κ°€λΉ„μ§€ μ»¬λ ‰μ…(GC)`μ„ μµμ†ν™” ν•λ‹¤.

- **μ‚¬μ© μ‚¬λ΅€:**  
`Parcelable`μ€ **μ„±λ¥**μ΄ μ¤‘μ”ν• μƒν™©μ—μ„ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ• μ μ©ν•λ©°, νΉν `ν”„λ΅μ„Έμ¤ κ°„ ν†µμ‹ (IPC)`μ΄λ‚ **μ•΅ν‹°λΉ„ν‹°** λ° **μ„λΉ„μ¤** κ°„μ λ°μ΄ν„° μ „λ‹¬μ— μ ν•©ν•λ‹¤.

ν„λ€ **Android** κ°λ°μ—μ„λ” `kotlin-parcelize` ν”λ¬κ·ΈμΈμ„ μ‚¬μ©ν•λ©΄ `Parcelable` κ°μ²΄λ¥Ό ν›¨μ”¬ κ°„νΈν•κ² λ§λ“¤ μ μλ‹¤.  
ν•΄λ‹Ή ν”λ¬κ·ΈμΈμ€ ν•„μ”ν• `Parcelable` κµ¬ν„ μ½”λ“λ¥Ό **μλ™**μΌλ΅ μƒμ„±ν•΄μ£Όλ―€λ΅, κΈ°μ΅΄μ μλ™ λ°©μ‹μ— λΉ„ν•΄ ν›¨μ”¬ ν¨μ¨μ μΈ μ ‘κ·Ό λ°©μ‹μ΄λ‹¤.  
ν΄λμ¤μ— `@Parcelize` μ–΄λ…Έν…μ΄μ…λ§ λ¶™μ—¬μ£Όλ©΄ ν”λ¬κ·ΈμΈμ΄ `Parcelable` κµ¬ν„μ— ν•„μ”ν• **λ©”μ„λ“μ™€ ν•„λ“**λ¥Ό μλ™μΌλ΅ μƒμ„±ν•΄μ¤€λ‹¤.  
μ•„λλ” κ·Έ μμ‹μ΄λ‹¤:

```kotlin
import kotlinx.parcelize.Parcelize
import android.os.Parcelable

@Parcelize
class User(val firstName: String, val lastName: String, val age: Int) : Parcelable
```

μ„μ²λΌ μ‘μ„±ν•λ©΄ `writeToParcel` κ°™μ€ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ”©ν•κ±°λ‚ `CREATOR`λ¥Ό κµ¬ν„ν•  ν•„μ”κ°€ μ—†μ–΄ **λ³΄μΌλ¬ν”λ μ΄νΈ μ½”λ“**λ¥Ό μ¤„μ΄κ³  **μ½”λ“μ κ°€λ…μ„±** λν• λ†’μΌ μ μλ‹¤.

### Key Differences

| ν•­λ© | Serializable       | Parcelable                |
|---|--------------------|---------------------------|
| **μ ν•(Type)** | `Java` ν‘μ¤€ μΈν„°νμ΄μ¤      | **Android** μ „μ© μΈν„°νμ΄μ¤          |
| **μ„±λ¥(Performance)** | λ” λλ¦¬κ³ , **λ¦¬ν”λ ‰μ…** μ‚¬μ© | λ” λΉ λ¥΄κ³ , **Android**μ— μµμ ν™”   |
| **κ°€λΉ„μ§€ μƒμ„±λ‰(Garbage Creation)** | λ” λ§μ€ κ°€λΉ„μ§€(κ°μ²΄) μƒμ„±    | λ” μ μ€ κ°μ²΄ μƒμ„± (ν¨μ¨μ )          |
| **μ‚¬μ© μ‚¬λ΅€(Use Case)** | μΌλ°μ μΈ `Java` ν™κ²½μ— μ ν•© | **Android**, νΉν `IPC`μ— μ ν•© |

### μ‹¤μ „ μ§λ¬Έ

**Q)**
**Android**μ—μ„ `Serializable`κ³Ό `Parcelable`μ **μ£Όμ” μ°¨μ΄μ **μ€ λ¬΄μ—‡μ΄λ©°, μ»΄ν¬λ„νΈ κ°„ λ°μ΄ν„° μ „λ‹¬ μ‹ μ™ μΌλ°μ μΌλ΅ `Parcelable`μ΄ μ„ νΈλλ‚μ”?

**A)**
**Android**μ—μ„λ” μ»΄ν¬λ„νΈ κ°„ ν†µμ‹ μ΄ λΉλ²ν•κ³  λ¦¬μ†μ¤κ°€ μ ν•μ μ΄κΈ° λ•λ¬Έμ—, λ” λ‚μ€ μ„±λ¥μ„ μ κ³µν•κ³  ν¨μ¨μ μΈ `Parcelable`μ΄ μΌλ°μ μΌλ΅ κ¶μ¥λλ‹¤.

### π’΅Pro Tips for Mastery: Parcel and Parcelable

`Parcel`μ€ **Android**μ—μ„ μ»΄ν¬λ„νΈ κ°„ κ³ μ„±λ¥ `IPC`λ¥Ό κ°€λ¥μΌ€ ν•΄μ£Όλ” **μ»¨ν…μ΄λ„ ν΄λμ¤**μ΄λ‹¤.  
μ£Όλ΅ λ°μ΄ν„°λ¥Ό **λ§μƒ¬λ§(marshaling, ν‰νƒ„ν™”)** ν•κ±°λ‚ **μ–Έλ§μƒ¬λ§(unmarshaling, μ—­ν‰νƒ„ν™”)** ν•μ—¬ `IPC` κ²½κ³„λ¥Ό λ„μ–΄ μ „λ‹¬ν•  μ μλ„λ΅ ν•λ‹¤.
- **λ§μƒ¬λ§(marshaling):** κ°μ²΄λ‚ μλ£ κµ¬μ΅°λ¥Ό μ „μ†΅ κ°€λ¥ν• ν•μ‹μΌλ΅ λ³€ν™ν•λ” κ³Όμ •μ„ μλ―Έν•λ‹¤.
**Android**μ—μ„λ” μ£Όλ΅ `IPC` κ³Όμ •μ— μ‚¬μ©λλ©° λ°μ΄ν„°κ°€ `Binder`μ™€ κ°™μ€ λ©”μ»¤λ‹μ¦μ„ ν†µν•΄ μ „μ†΅λ  μ μλ„λ΅ **μ§λ ¬ν™”**λλ‹¤.
  - **IBinder:** **Android**μ—μ„ μ»΄ν¬λ„νΈ κ°„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ μ μκ² ν•΄μ£Όλ” `IPC` μΈν„°νμ΄μ¤μ΄λ‹¤.
- **μ–Έλ§μƒ¬λ§(unmarshaling):** **μ§λ ¬ν™”**λ λ°μ΄ν„°λ¥Ό μ›λμ κ°μ²΄λ‚ λ°μ΄ν„° κµ¬μ΅°λ΅ **λ³µμ›(μ—­μ§λ ¬ν™”)**ν•λ” κ³Όμ •μ΄λ‹¤.
**Android**μ—μ„λ” `IPC`λ¥Ό ν†µν•΄ μμ‹ ν• λ°μ΄ν„°κ°€ μμ‹  μΈ΅ ν”„λ΅μ„Έμ¤μ—μ„ λ‹¤μ‹ μ‚¬μ©λ  μ μλ„λ΅ μ—­μ§λ ¬ν™”λλ‹¤.

`Parcel`μ€ **ν‰νƒ„ν™”λ λ°μ΄ν„°**μ™€ **live IBinder** κ°μ²΄μ— λ€ν• μ°Έμ΅°λ¥Ό ν•¨κ» `IPC` λ©”μ»¤λ‹μ¦μ„ ν†µν•΄ μ „λ‹¬ν•κΈ° μ„ν• μ»¨ν…μ΄λ„μ΄λ‹¤.
ν•΄λ‹Ή ν΄λμ¤λ” κ³ μ„±λ¥ `IPC` μ „μ†΅μ„ μ„ν•΄ μ„¤κ³„λμ—μΌλ©°, `Parcelable` μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” κ°μ²΄λ“¤μ„ ν¨μ¨μ μΌλ΅ μ§λ ¬ν™”ν•κ³  μ»΄ν¬λ„νΈ κ°„ μ „λ‹¬ν•  μ μλ„λ΅ ν•΄μ¤€λ‹¤.  
λ‹¨, `Parcel`μ€ **λ²”μ© μ§λ ¬ν™” λ„κµ¬**κ°€ μ•„λ‹λ©°, λ‚΄λ¶€ κµ¬ν„ λ°©μ‹μ΄ λ³€κ²½λ  μ μκΈ° λ•λ¬Έμ— μ§€μ†μ μΈ λ°μ΄ν„° μ €μ¥ μ©λ„λ΅ μ‚¬μ©ν•΄μ„λ” μ• λλ‹¤.

ν•΄λ‹Ή `API`λ” **μ›μ‹ λ°μ΄ν„° νƒ€μ…**, **λ°°μ—΄**, **`Parcelable` κ°μ²΄** λ“±μ„ μ½κ³  μ“Έ μ μλ” λ‹¤μ–‘ν• λ©”μ„λ“λ¥Ό ν¬ν•¨ν•κ³  μμ–΄ κ°μ²΄κ°€ μ¤μ¤λ΅λ¥Ό **μ§λ ¬ν™”**ν•κ³  ν•„μ” μ‹ **λ³µμ›(μ—­μ§λ ¬ν™”)**ν•  μ μλ„λ΅ ν•΄μ¤€λ‹¤.  
λν•, `Parcelable`μ„ μ‚¬μ©ν•  λ• ν΄λμ¤ μ •λ³΄λ¥Ό κΈ°λ΅ν•μ§€ μ•κ³ λ„ μ‘λ™ν•λ” μµμ ν™”λ λ©”μ„λ“λ“¤λ„ μ κ³µν•λ”λ°, μ΄ κ²½μ° λ°μ΄ν„°λ¥Ό μ½λ” μ½μ—μ„ νƒ€μ…μ„ μ‚¬μ „μ— μ•κ³  μμ–΄μ•Ό ν¨μ¨μ μΈ μ²λ¦¬κ°€ κ°€λ¥ν•λ‹¤.

`Parcelable`μ€ κ°μ²΄λ¥Ό **μ§λ ¬ν™”**ν•μ—¬ `Parcel`μ„ ν†µν•΄ μ „λ‹¬ν•  μ μλ„λ΅ ν•΄μ£Όλ” **Android** μ „μ© μΈν„°νμ΄μ¤μ΄λ‹¤.  
`Parcelable`μ„ κµ¬ν„ν• κ°μ²΄λ” `Parcel`μ— κΈ°λ΅ν•κ³  λ‹¤μ‹ λ³µμ›ν•  μ μκΈ° λ•λ¬Έμ—, **Android** μ»΄ν¬λ„νΈ κ°„μ— λ³µμ΅ν• λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ• μ ν•©ν•λ‹¤.
