# Category 0: The Android Framework

## Q) 4. What is Context and what types of Context exist?

`Context`는 애플리케이션의 **환경**이나 **상태**를 나타내며, 앱 고유의 리소스 및 클래스에 접근할 수 있도록 해주는 객체이다.  
Android 시스템과 앱 컴포넌트 간의 다리 역할을 하며, **리소스 접근**, **데이터베이스 연결**, **시스템 서비스 호출** 등 다양한 작업에 필수적이다.
예를 들어, 액티비티 실행, 에셋 접근, 레이아웃 인플레이팅 등에 `Context`가 반드시 필요하다.

**Android**에는 여러 종류의 `Context`가 존재한다:

### Application Context

**Application Context**는 애플리케이션의 생명주기에 묶여, 현재 `Activity`나 `Fragment`와 독립적인 전역적이고 오래 지속되는 컨텍스트가 필요할 때 사용된다.
해당 컨텍스트는 `getApplicationContext()`를 호출하여 가져올 수 있다.

앱 전체에서 사용하는 리소스에 접근할 때, 앱의 전체 생명주기 동안 유지되어야 하는 브로드캐스트 리시버를 등록할 때, 그리고 앱 생명주기 전반에 걸쳐 존재하는 라이브러리나 컴포넌트를 초기화할 때 사용된다.

### Activity Context

**Activity Context**는 액티비티의 생명주기에 묶여 있다. 리소스에 접근하거나, 다른 액티비티를 실행하거나, 해당 액티비티 전용 레이아웃을 인플레이트할 때 사용된다.

또, UI 컴포넌트를 생성하거나 수정할 때, 다른 액티비티를 시작할 때, 그리고 현재 액티비티에 한정된 리소스나 테마에 접근할 때 사용된다.

### Service Context

**Service**의 생명주기에 묶여 주로 **네트워크 작업 수행**이나 **음악 재생** 같은 백그라운드에서 실행되는 작업에 사용된다.
또한, 서비스에 필요한 **시스템 레벨 서비스**에 접근할 수 있게 해준다.

### BroadCastReceiver Context

**BroadcastReceiver**가 호출될 때 제공된다. 이 컨텍스트는 수명이 짧으며, 보통 특정 브로드캐스트에 응답하기 위해 사용된다.
그렇기에 해당 컨텍스트에서는 장시간 실행되는 작업을 수행하지 않는 것이 좋다.

### Context의 일반적인 사용 사례

1. **리소스 접근:**  
`getString()`, `getDrawable()` 같은 메서드를 통해 문자열, 드로어블, 크기(dimension) 등의 리소스에 접근할 수 있다.

2. **레이아웃 인플레이트:**  
`LayoutInflater`를 사용하여 **XML 레이아웃**을 뷰로 변환할 때 Context가 필요하다.

3. **액티비티와 서비스 시작:**  
`startActivity()`나 `startService()`를 시작할 때 Context가 필요하다.

4. **시스템 서비스 접근:**  
`getSystemService()`를 통해 `ClipboardManager`, `ConnectivityManager` 같은 시스템 레벨 서비스에 접근할 수 있다.

5. **데이터베이스와 SharedPreferences 접근:**  
**SQLite 데이터베이스**나 **SharedPreferences** 같은 영속적 저장소를 접근할 때 Context를 사용한다.

### 실전 질문

**Q)** 안드로이드 애플리케이션에서 올바른 타입의 Context를 사용하는 것이 왜 중요한가요? 그리고 Activity Context를 장시간 참조로 보관할 때 발생할 수 있는 잠재적 위험은 무엇인가요?

**A)** Context는 리소스 접근, 시스템 서비스 호출, UI 인플레이션 등 거의 모든 기능의 출발점으로 올바른 타입의 Context를 사용하는 건 생명주기와 맞는 리소스 관리를 보장하고, 불필요한 메모리 점유를 막는 데 중요합니다.
만약 Activity Context를 장기적으로 보관하면, 액티비티가 종료된 후에도 GC가 해제하지 못해 메모리 누수가 발생할 수 있습니다.