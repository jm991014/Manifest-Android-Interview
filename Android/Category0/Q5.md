# Category 0: The Android Framework

## Q) 5. What is Application class?

**Android**에서 `Application` 클래스는 전역 애플리케이션 상태와 생명주기를 관리하는 데 사용되는 기본 클래스이다.
이 클래스는 애플리케이션의 **시작점** 역할을 하며, `activity`, `service`, `broadcast receiver`와 같은 컴포넌트보다 먼저 초기화된다.
`Application` 클래스는 앱의 전체 생명주기 동안 사용 가능한 `context`를 제공하므로, 공유 리소스를 초기화하기에 이상적이다.

### Application 클래스의 목적

`Application` 클래스는 전역 상태를 유지하고 애플리케이션 전반에 걸친 초기화를 수행하도록 설계되었다.
그렇기에 개발자들은 종종 이 클래스를 `오버라이드(override)`하여 **의존성을 설정**하고, **라이브러리를 구성**하며, 액티비티와 서비스에 걸쳐 유지되어야 하는 **리소스를 관리**한다.

별도의 **커스텀 클래스**가 `AndroidManifest.xml` 파일에 지정되지 않는 한, 모든 안드로이드 애플리케이션은 `Application` 클래스의 기본 구현을 사용한다.

### Application 클래스의 주요 메서드

1. **onCreate():**  
`onCreate()` 메서드는 앱 프로세스가 생성될 때 호출된다.
**데이터베이스 인스턴스**, **네트워크 라이브러리**, **분석 도구** 등 애플리케이션 전반에 걸쳐 사용되는 의존성을 초기화하는 곳이다.
해당 메서드는 애플리케이션의 전체 생명주기 동안 **단 한 번**만 호출된다.
2. **onTerminate():**  
이 메서드는 에뮬레이션 환경에서 애플리케이션이 **종료될 때** 호출된다.
하지만 Android는 실제 기기에서의 호출을 **보장하지 않으므로**, **실제 운영 환경**에서는 호출되지 않는다.
3. **onLowMemory() 와 onTrimMemory():**  
해당 메서드들은 시스템이 **메모리 부족 상태**를 감지했을 때 트리거된다.
`onLowMemory()`는 이전 `API` 레벨에서 사용되던 방식이고, `onTrimMemory()`는 앱의 현재 메모리 상태에 따라 더 세분화된 제어를 제공한다.

### Application 클래스 사용법

커스텀 `Application` 클래스를 정의하려면, `Application` 클래스를 **상속**받아 클래스를 만들고, `AndroidManifest.xml` 파일의 `<application>` 태그 안에 이 클래스를 지정해야 한다.

```kotlin
class CustomApplication : Application() {
    override fun onCreate() {
        super.onCreate()
        // Initialize global dependencies
        initializeDatabase()
        initializeAnalytics()
    }
    private fun initializeDatabase() {
        // Set up a database instance
    }
    
    private fun initializeAnalytics() {
        // Configure analytics tracking
    }
}
```

```xml
<application
    android:name=".CustomApplication"
    ... >
    ...
</application>
```

### Application 클래스 사용 사례

1. **전역 리소스 관리:**
**데이터베이스**, **SharedPreferences**, **네트워크 클라이언트**와 같은 리소스들을 한 번만 설정하고 앱 전체에서 재사용할 수 있다.
2. **컴포넌트 초기화:**
**Firebase Analytics**, **Timber**와 같은 도구나 다른 유사한 객체들은 애플리케이션 시작 시점에 적절하게 초기화하여 앱의 전체 생명주기 동안 원활한 기능을 보장할 수 있어야 한다.
3. **의존성 주입:**
**Dagger**나 **Hilt** 같은 프레임워크를 초기화하여 앱 전반에 걸쳐 의존성을 제공하는 데 사용할 수 있다.

### 모범 사례

1. `onCreate()`에서 장시간 실행되는 작업을 피해 앱 실행 지연을 막아야 한다.
2. `Application` 클래스를 관련 없는 로직을 위한 쓰레기통처럼 사용하는 것이 아닌, **전역 초기화** 및 **리소스 관리**에만 집중해야 한다.
3. `Application` 클래스에서 공유 리소스를 관리할 때는 **스레드 안전성**을 확보해야 한다.

### 실전 질문

**Q)**
`Application` 클래스의 목적은 무엇이며, **생명주기**와 **리소스 관리** 측면에서 `Activity`와 어떤 차이가 있나요?

**A)**
`Application` 클래스는 앱의 **전체 생명주기** 동안 유지되는 전역 애플리케이션 상태를 관리하는 데 사용됩니다.
**데이터베이스 인스턴스**나 **네트워크 클라이언트**처럼 앱 전체에서 공유되어야 하는 리소스들을 초기화하고 유지하는 역할을 합니다.

`Activity`가 **특정 화면**의 생명주기를 담당하며 사용자와의 상호작용과 화면 관련 리소스를 관리한다면, `Application` 클래스는 **앱의 전체** 생명주기 동안 존재하며 전역 상태와 공유 리소스를 관리합니다.
